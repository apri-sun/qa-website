<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="zh-CN"
      class="is-AppPromotionBarVisible cssanimations csstransforms csstransitions flexbox no-touchevents no-mobile">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>读《Web 全栈工程师的自我修养》 - web开发的愚人之旅 - 牛客网</title>
    <meta name="viewport"
          content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="keywords" content="读《Web 全栈工程师的自我修养》">
    <meta name="description" content="阅读影浅分享的读《Web 全栈工程师的自我修养》，就在牛客网。">
    <script type="text/javascript" src="../static/scripts/jquery-3.3.1.min.js"></script>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="../static/styles/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../static/styles/font-awesome.min.css">

    <link rel="stylesheet" media="all" href="../static/styles/letter.css">

    <script src="../static/scripts/hm.js"></script>
    <script src="../static/scripts/detail.js"></script>

    <script type="text/javascript" src="../static/scripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="../static/scripts/jquery.qrcode.min.js"></script>
</head>
<body class="posts_show">
<!--头-->
<div th:replace="header :: head1"></div>
<div th:replace="header :: head2"></div>
<div id="main">
    <div class="zg-wrap zu-main clearfix ">
        <ul class="letter-chatlist">
            <li id="msg-item-4009580" th:each="vo : ${vos}">
                <a class="list-head">
                    <img alt="头像" src="#" th:src="${vo.get('user').headUrl}" >
                </a>
                <div class="tooltip fade right in">
                    <div class="tooltip-arrow"></div>
                    <div class="tooltip-inner letter-chat clearfix">
                        <div class="letter-info">
                            <p class="letter-time" th:utext="${#dates.format(vo.get('message').createdDate, 'yyyy-MM-dd HH:mm:ss')}"></p>
                            <a href="javascript:void(0);" id="del-link" name="4009580">删除</a>
                        </div>
                        <p class="chat-content" th:utext="${vo.get('user').username} + ': ' + ${vo.get('message').content}">

                        </p>
                    </div>
                </div>
            </li>
        </ul>

    </div>
    <script type="text/javascript">
        $(function () {

            // If really is weixin
            $(document).on('WeixinJSBridgeReady', function () {

                $('.weixin-qrcode-dropdown').show();

                var options = {
                    "img_url": "",
                    "link": "http://nowcoder.com/j/wt2rwy",
                    "desc": "",
                    "title": "读《Web 全栈工程师的自我修养》"
                };

                WeixinJSBridge.on('menu:share:appmessage', function (argv) {
                    WeixinJSBridge.invoke('sendAppMessage', options, function (res) {
                        // _report('send_msg', res.err_msg)
                    });
                });

                WeixinJSBridge.on('menu:share:timeline', function (argv) {
                    WeixinJSBridge.invoke('shareTimeline', options, function (res) {
                        // _report('send_msg', res.err_msg)
                    });
                });

                // $(window).on('touchmove scroll', function() {
                //   if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
                //     $('div.backdrop').show();
                //     $('div.share-help').show();
                //   } else {
                //     $('div.backdrop').hide();
                //     $('div.share-help').hide();
                //   }
                // });

            });

        })
    </script>
</div>
<div id="zh-footer" class="zh-footer">
    <div class="content zg-wrap clearfix">
        <ul>

            <li><a href="https://liukanshan.zhihu.com" target="_blank">刘看山</a></li>

            <li><a href="/question/19581624" target="_blank">牛客指南</a></li>
            <li><a href="javascript:;" id="js-feedback-button">建议反馈</a></li>

            <li><a href="/app" target="_blank">移动应用</a></li>
            <li><a href="/careers">加入牛客</a></li>
            <li><a href="/terms" target="_blank">牛客协议</a></li>
            <li><a href="/contact">联系我们</a></li>

        </ul>

        <span class="copy">© 2016 牛客</span>

    </div>
</div>

<div id="quick-download">
    <button type="button" class="close-link btn-link" data-toggle="modal" data-target="#quick-download-app-modal"><i
            class="fa fa-times-circle"></i></button>

    <a class="download-link" href="http://nowcoder.com/download">
        <h3>牛客网</h3>
        <h4>程序员的首选学习分享平台</h4>
        <button type="button" class="btn btn-info btn-sm">下载 APP</button>
    </a>

    <div class="modal fade" id="quick-download-app-modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">提示</div>
                <div class="modal-body">
                    <div class="checkbox">
                        <label class="i-checks">
                            <input id="already-installed" type="checkbox"><i></i> 我已安装了牛客网App，不再显示
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-block btn-default" id="close-quick-download-app-modal">关 闭
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--模态框 提问-->
<div class="modal fade" id="ask" tabindex="-1" role="dialog" aria-labelledby="askLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="askLabel">问题</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="title" class="control-label">标题:</label>
                        <input type="text" class="form-control" id="title">
                    </div>
                    <div class="form-group">
                        <label for="content" class="control-label">说明:</label>
                        <textarea style="width: 100%;height: 100%;" class="form-control" id="content"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" id="release">发布</button>
            </div>
        </div>
    </div>
</div>
<!--模态框 消息-->
<div class="modal fade" id="msg" tabindex="-1" role="dialog" aria-labelledby="msgLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="msgLabel">消息</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="title" class="control-label">接收人:</label>
                        <input type="text" class="form-control" id="toName">
                    </div>
                    <div class="form-group">
                        <label for="content" class="control-label">内容:</label>
                        <textarea style="width: 100%;height: 100%;" class="form-control" id="message"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" id="send">发送</button>
            </div>
        </div>
    </div>
</div>

</body>
</html>

<script>
    $(function ()
    {
        $("#ask #release").click(function ()
        {
            var title = $("#title").val()
            var content = $("#content").val()
            $.post("/question/add",{"title":title, "content":content},function(backData){
                if(backData.code == 0)
                {
                    window.location.reload()
                }
                else
                {
                    window.location.href = "/loginToHtml"
                }
            }, "json");
        })
        $("#msg #send").click(function ()
        {
            var toName = $("#toName").val()
            var content = $("#message").val()
            console.log(toName)
            console.log(content)
            $.post("/msg/add",{"toName":toName, "content":content},function(backData){
                if(backData.code == 0)
                {
                    window.location.reload()
                }
                else
                {
                    window.location.href = "/loginToHtml"
                }
            }, "json");
        })
    })
</script>